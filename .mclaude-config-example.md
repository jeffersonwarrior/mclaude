# Proposed MClaude Configuration Structure

## Configuration Loading Order (Highest to Lowest Priority):

1. **Local Project**: `.mclaude/config.json`
2. **Local Project**: `.env` (current directory)
3. **Global User**: `~/.config/mclaude/config.json`
4. **System Environment**: `process.env`

## Directory Structure:
```
my-project/
├── .mclaude/
│   ├── config.json         # Project-specific config (git-tracked)
│   └── .env.local          # Local overrides (git-ignored)
├── .env                    # Project env vars (optional, git-ignored)
└── package.json
```

## Example `.mclaude/config.json`:
```json
{
  "providers": {
    "synthetic": {
      "enabled": true,
      "baseUrl": "https://api.synthetic.new"
    },
    "minimax": {
      "enabled": true,
      "defaultModel": "MiniMax-M2"
    }
  },
  "defaultProvider": "auto",
  "selectedModel": "synthetic:claude-3-sonnet",
  "selectedThinkingModel": "",
  "cacheDurationHours": 24,
  "configVersion": 2
}
```

## Features:
- Per-project model selection and provider preferences
- Team-shared default configurations
- Local secret overrides via environment files
- Fallback to global config for personal settings
- Development vs production isolation

## Migration Path:
1. Check local `.mclaude/` first
2. If not found, fall back to current global system
3. Provide migration command to copy global → local
4. Add `mclaude config init` to initialize project configs